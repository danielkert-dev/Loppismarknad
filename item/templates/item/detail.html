{% extends 'core/base.html' %}


{% block title %}{{ item.name }}{% endblock  %}

{% block content %}
<div class="container-fluid">
    <div class="row mt-3 d-flex" style="max-width: 100rem; margin-left: auto; margin-right: auto"> 

        <div class="col-sm-4 mb-4 mb-lg-0" style="max-height: 25rem">
        <img 
        src="{{ item.image.url }}" 
        class="w-100 rounded shadow" 
            />
        </div>

        <div class="col-sm-4 mb-4 mb-lg-0" style="max-height: 25rem">
            <h1 class="mb-3"> {{ item.name }}</h1>
            <p class="text-secondary m-0"><strong>Price: </strong>{{ item.price }}</p>
            <p class="text-secondary m-0"><strong>Seller: </strong>{{ item.created_by.username}}</p>
            {% if item.description %}
            <p class="text-secondary m-0"><strong>Description: </strong> {{ item.description}} </p>
            {% endif %}

            {% if request.user == item.created_by %}
                <div class="mt-3 rounded shadow p-3">
                <p>This is your item</p>
                <a href="{% url 'item:edit' item.id %}" class="btn btn-primary btn-outline-light mt-3">Edit</a>
                <a href="{% url 'item:delete' item.id %}" class="btn btn-danger btn-outline-light mt-3">Delete</a>
                </div>
            {% else %}
            <a href="#" class="btn btn-primary btn-outline-light  mt-3">Contact seller</a>
            {% endif %}
        </div>

        <div class="col-sm-4 mb-4 mb-lg-0" style="max-height: 25rem">
            <img src="https://www.netmaps.net/wp-content/uploads/2016/03/Helsinki-Vector-Map.jpg" class="w-100 rounded shadow"/>
        </div>

    </div>
    <hr />

    <h3 class="text-center m-3">Related Items</h3>
    <div class="container justify-content-center">
    <div class="row">
        {% for item in related_items %}
        <div class="col-lg-4 col-md-12 mb-4 mb-lg-0">
            <div class="card mb-4">
            <a href="{% url 'item:detail' item.id %}">
                <img
                data-src="{{ item.image.url }}" 
                alt="{{ item.name }}"
                class="lazy w-100 shadow rounded card-img-top mb-4"
                />

                <div class="bg-white rounded card-body">
                    <h2 class="card-title">{{item.name}}</h2>
                    <p class="card-text">{{item.price}}â‚¬</p>
                </div>
            </a>
        </div>
        </div>
        {% endfor %}
    </div>
    </div>
    <br /><br />
</div>
{% endblock  %}
